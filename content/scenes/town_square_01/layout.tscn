[gd_scene load_steps=16 format=3]

[ext_resource type="Script" path="res://game/tools/layout_root.gd" id="1_layout"]
[ext_resource type="Texture2D" path="res://content/scenes/town_square_01/ground.png" id="2_ground"]
[ext_resource type="Script" path="res://game/tools/markers/spawn_marker_2d.gd" id="3_spawn"]
[ext_resource type="Script" path="res://game/tools/markers/hotspot_marker_2d.gd" id="4_hotspot"]
[ext_resource type="Script" path="res://game/tools/markers/exit_marker_2d.gd" id="5_exit"]
[ext_resource type="Script" path="res://game/tools/markers/decal_marker_2d.gd" id="6_decal"]
[ext_resource type="PackedScene" path="res://content/props/tree_01/tree_01.tscn" id="6_tree"]
[ext_resource type="PackedScene" path="res://content/props/bench_01/bench_01.tscn" id="7_bench"]
[ext_resource type="PackedScene" path="res://content/props/lamp_01/lamp_01.tscn" id="8_lamp"]
[ext_resource type="Resource" path="res://content/props/tree_01/tree_01_def.tres" id="9_tree_def"]
[ext_resource type="Resource" path="res://content/props/bench_01/bench_01_def.tres" id="10_bench_def"]
[ext_resource type="Resource" path="res://content/props/lamp_01/lamp_01_def.tres" id="11_lamp_def"]

[sub_resource type="CircleShape2D" id="1_hotspot_circle"]
radius = 18.0

[sub_resource type="RectangleShape2D" id="2_exit_inn"]
size = Vector2(48, 32)

[sub_resource type="RectangleShape2D" id="3_exit_school"]
size = Vector2(48, 32)

[sub_resource type="RectangleShape2D" id="4_exit_arcade"]
size = Vector2(48, 32)

[sub_resource type="RectangleShape2D" id="5_exit_house"]
size = Vector2(48, 32)

[node name="Layout" type="Node2D"]
script = ExtResource("1_layout")
scene_id = "town_square_01"
default_spawn_id = "spawn_default"
base_walkmask_path = ""

[node name="Ground" type="Sprite2D" parent="."]
texture = ExtResource("2_ground")
centered = false
position = Vector2(0, 0)

[node name="Props" type="Node2D" parent="."]

[node name="Tree01" parent="Props" instance=ExtResource("6_tree")]
prop_def = ExtResource("9_tree_def")
position = Vector2(240, 300)

[node name="Bench01" parent="Props" instance=ExtResource("7_bench")]
prop_def = ExtResource("10_bench_def")
variant = 1
position = Vector2(360, 320)

[node name="Lamp01" parent="Props" instance=ExtResource("8_lamp")]
prop_def = ExtResource("11_lamp_def")
position = Vector2(520, 300)

[node name="Markers" type="Node2D" parent="."]

[node name="Decal_Scuff" type="Node2D" parent="Markers"]
script = ExtResource("6_decal")
decal_id = "scuff_01"
texture_path = "res://content/decals/scuff_01.png"
size_px = Vector2i(16, 16)
decal_z_index = -2
position = Vector2(300, 360)

[node name="Decal_Leaf" type="Node2D" parent="Markers"]
script = ExtResource("6_decal")
decal_id = "leaf_01"
texture_path = "res://content/decals/leaf_01.png"
size_px = Vector2i(16, 16)
decal_z_index = -2
position = Vector2(520, 340)

[node name="Spawn_Default" type="Node2D" parent="Markers"]
script = ExtResource("3_spawn")
spawn_id = "spawn_default"
position = Vector2(120, 140)

[node name="Hotspot_Npc" type="Area2D" parent="Markers"]
script = ExtResource("4_hotspot")
hotspot_id = "npc_test"
hotspot_type = "talk"
text = "Hello from town square."
position = Vector2(220, 180)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Markers/Hotspot_Npc"]
shape = SubResource("1_hotspot_circle")

[node name="Exit_Inn" type="Area2D" parent="Markers"]
script = ExtResource("5_exit")
exit_id = "to_inn"
target_scene_id = "inn_01"
target_spawn_id = "spawn_default"
position = Vector2(444, 176)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Markers/Exit_Inn"]
shape = SubResource("2_exit_inn")

[node name="Exit_School" type="Area2D" parent="Markers"]
script = ExtResource("5_exit")
exit_id = "to_school"
target_scene_id = "school_hall_01"
target_spawn_id = "spawn_default"
position = Vector2(544, 216)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Markers/Exit_School"]
shape = SubResource("3_exit_school")

[node name="Exit_Arcade" type="Area2D" parent="Markers"]
script = ExtResource("5_exit")
exit_id = "to_arcade"
target_scene_id = "arcade_01"
target_spawn_id = "spawn_default"
position = Vector2(644, 256)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Markers/Exit_Arcade"]
shape = SubResource("4_exit_arcade")

[node name="Exit_House" type="Area2D" parent="Markers"]
script = ExtResource("5_exit")
exit_id = "to_house"
target_scene_id = "fae_house_01"
target_spawn_id = "spawn_default"
position = Vector2(744, 296)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Markers/Exit_House"]
shape = SubResource("5_exit_house")
