[gd_scene load_steps=17 format=3]

[ext_resource type="Script" path="res://game/scripts/player/Player.gd" id="1"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/fae/overworld/fae_placeholder.png" id="2"]
[ext_resource type="Script" path="res://game/scripts/interaction/Interactable.gd" id="3"]
[ext_resource type="PackedScene" path="res://game/scenes/ui/DialogueUI.tscn" id="4"]
[ext_resource type="Script" path="res://game/scripts/areas/SpawnMarker.gd" id="5"]
[ext_resource type="Script" path="res://game/scripts/areas/AreaTransition.gd" id="6"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/clinic/hospital_bed.png" id="7"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/clinic/exam_table.png" id="8"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/clinic/medicine_cabinet.png" id="9"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/clinic/reception_desk.png" id="10"]
[ext_resource type="Script" path="res://game/scripts/interaction/NPCDialogueTree.gd" id="11"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/npcs/doctor/doctor_idle_south.png" id="12"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1"]
size = Vector2(16, 20)

[sub_resource type="CircleShape2D" id="CircleShape2D_1"]
radius = 24.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2"]
size = Vector2(32, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3"]
size = Vector2(16, 16)

[node name="Area_ClinicInterior" type="Node2D"]

[node name="Background" type="ColorRect" parent="."]
offset_right = 512.0
offset_bottom = 288.0
color = Color(0.9, 0.92, 0.95, 1)

[node name="Floor" type="ColorRect" parent="."]
offset_left = 20.0
offset_top = 60.0
offset_right = 492.0
offset_bottom = 268.0
color = Color(0.95, 0.95, 0.98, 1)

[node name="Props" type="Node2D" parent="."]

[node name="ReceptionDesk" type="Sprite2D" parent="Props"]
position = Vector2(256, 100)
texture = ExtResource("10")

[node name="MedicineCabinet1" type="Sprite2D" parent="Props"]
position = Vector2(60, 100)
texture = ExtResource("9")

[node name="MedicineCabinet2" type="Sprite2D" parent="Props"]
position = Vector2(80, 100)
texture = ExtResource("9")

[node name="ExamTable" type="Sprite2D" parent="Props"]
position = Vector2(160, 160)
texture = ExtResource("8")

[node name="HospitalBed1" type="Sprite2D" parent="Props"]
position = Vector2(400, 120)
texture = ExtResource("7")

[node name="HospitalBed2" type="Sprite2D" parent="Props"]
position = Vector2(400, 160)
texture = ExtResource("7")

[node name="HospitalBed3" type="Sprite2D" parent="Props"]
position = Vector2(400, 200)
texture = ExtResource("7")

[node name="Curtain1" type="ColorRect" parent="Props"]
offset_left = 360.0
offset_top = 100.0
offset_right = 364.0
offset_bottom = 220.0
color = Color(0.7, 0.8, 0.9, 0.8)

[node name="WaitingChair1" type="ColorRect" parent="Props"]
offset_left = 80.0
offset_top = 180.0
offset_right = 96.0
offset_bottom = 196.0
color = Color(0.4, 0.5, 0.6, 1)

[node name="WaitingChair2" type="ColorRect" parent="Props"]
offset_left = 110.0
offset_top = 180.0
offset_right = 126.0
offset_bottom = 196.0
color = Color(0.4, 0.5, 0.6, 1)

[node name="WaitingChair3" type="ColorRect" parent="Props"]
offset_left = 140.0
offset_top = 180.0
offset_right = 156.0
offset_bottom = 196.0
color = Color(0.4, 0.5, 0.6, 1)

[node name="Plant" type="ColorRect" parent="Props"]
offset_left = 50.0
offset_top = 220.0
offset_right = 66.0
offset_bottom = 240.0
color = Color(0.3, 0.6, 0.3, 1)

[node name="RedCrossSign" type="ColorRect" parent="Props"]
offset_left = 240.0
offset_top = 68.0
offset_right = 272.0
offset_bottom = 88.0
color = Color(1, 0.2, 0.2, 1)

[node name="ReceptionInteractable" type="Area2D" parent="."]
position = Vector2(256, 100)
script = ExtResource("3")
dialogue_text = "Welcome to Cloverhollow Clinic!
Please wait here for the doctor.
We'll take care of you!"

[node name="ReceptionCollision" type="CollisionShape2D" parent="ReceptionInteractable"]
shape = SubResource("RectangleShape2D_3")

[node name="ExamTableInteractable" type="Area2D" parent="."]
position = Vector2(160, 160)
script = ExtResource("3")
dialogue_text = "The examination table is clean and ready.
Medical equipment is neatly arranged nearby.
The clinic is well-maintained."

[node name="ExamTableCollision" type="CollisionShape2D" parent="ExamTableInteractable"]
shape = SubResource("RectangleShape2D_3")

[node name="BedInteractable" type="Area2D" parent="."]
position = Vector2(400, 160)
script = ExtResource("3")
dialogue_text = "Hospital beds for resting patients.
Clean sheets and comfortable pillows.
A place to recover after adventures."

[node name="BedCollision" type="CollisionShape2D" parent="BedInteractable"]
shape = SubResource("RectangleShape2D_3")

[node name="MedicineCabinetInteractable" type="Area2D" parent="."]
position = Vector2(70, 100)
script = ExtResource("3")
dialogue_text = "Medicine cabinets full of remedies!
Potions, bandages, and healing supplies.
Only the doctor should touch these."

[node name="MedicineCabinetCollision" type="CollisionShape2D" parent="MedicineCabinetInteractable"]
shape = SubResource("RectangleShape2D_3")

[node name="DoctorNPC" type="Area2D" parent="."]
position = Vector2(256, 75)
script = ExtResource("11")
dialogue_branches = ["Hello! I'm Dr. Willowmere.\nWelcome to Cloverhollow Clinic!\nHow can I help you today?", "Remember to get plenty of rest!\nSleep helps your body heal and recover.\nAim for 8 hours every night.", "Eating healthy foods makes you strong!\nFruits and vegetables are your friends.\nThey give you energy for adventures!", "Exercise is important too!\nRunning, jumping, and playing keep you fit.\nA healthy adventurer is a happy adventurer!", "Need your party healed? Not just yet...\nBut soon I'll be offering full healing services!\nFor now, use potions from the General Store."]

[node name="DoctorSprite" type="Sprite2D" parent="DoctorNPC"]
texture = ExtResource("12")
centered = true

[node name="DoctorCollision" type="CollisionShape2D" parent="DoctorNPC"]
shape = SubResource("RectangleShape2D_3")

[node name="Spawns" type="Node2D" parent="."]

[node name="default" type="Marker2D" parent="Spawns"]
position = Vector2(256, 240)
script = ExtResource("5")

[node name="from_town_center" type="Marker2D" parent="Spawns"]
position = Vector2(256, 240)
script = ExtResource("5")
marker_id = "from_town_center"

[node name="TransitionToTownCenter" type="Area2D" parent="."]
position = Vector2(256, 270)
script = ExtResource("6")
target_area = "res://game/scenes/areas/Area_TownCenter.tscn"
target_spawn_id = "from_clinic"

[node name="TransitionShape" type="CollisionShape2D" parent="TransitionToTownCenter"]
shape = SubResource("RectangleShape2D_2")

[node name="TransitionLabel" type="Label" parent="TransitionToTownCenter"]
offset_left = -40.0
offset_top = -10.0
offset_right = 40.0
offset_bottom = 10.0
text = "Exit"
horizontal_alignment = 1

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(256, 240)
script = ExtResource("1")

[node name="Sprite" type="Sprite2D" parent="Player"]
texture = ExtResource("2")
centered = true

[node name="Collision" type="CollisionShape2D" parent="Player"]
shape = SubResource("RectangleShape2D_1")

[node name="Camera2D" type="Camera2D" parent="Player"]
enabled = true
position_smoothing_enabled = false

[node name="InteractionArea" type="Area2D" parent="Player"]

[node name="InteractionShape" type="CollisionShape2D" parent="Player/InteractionArea"]
shape = SubResource("CircleShape2D_1")

[node name="DialogueUI" parent="." instance=ExtResource("4")]
