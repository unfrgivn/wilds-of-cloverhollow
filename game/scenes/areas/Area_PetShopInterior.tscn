[gd_scene load_steps=12 format=3]

[ext_resource type="Script" path="res://game/scripts/player/Player.gd" id="1"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/fae/overworld/fae_placeholder.png" id="2"]
[ext_resource type="Script" path="res://game/scripts/interaction/Interactable.gd" id="3"]
[ext_resource type="PackedScene" path="res://game/scenes/ui/DialogueUI.tscn" id="4"]
[ext_resource type="Script" path="res://game/scripts/areas/SpawnMarker.gd" id="5"]
[ext_resource type="Script" path="res://game/scripts/areas/AreaTransition.gd" id="6"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/sign.png" id="7"]
[ext_resource type="Script" path="res://game/scripts/interaction/ShopNPC.gd" id="8"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/npcs/pet_clerk/pet_clerk_idle_south.png" id="9"]
[ext_resource type="PackedScene" path="res://game/scenes/ui/ShopUI.tscn" id="10"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1"]
size = Vector2(16, 20)

[sub_resource type="CircleShape2D" id="CircleShape2D_1"]
radius = 24.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2"]
size = Vector2(32, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3"]
size = Vector2(16, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4"]
size = Vector2(16, 16)

[node name="Area_PetShopInterior" type="Node2D"]

[node name="Background" type="ColorRect" parent="."]
offset_right = 512.0
offset_bottom = 288.0
color = Color(0.85, 0.78, 0.65, 1)

[node name="Floor" type="ColorRect" parent="."]
offset_left = 20.0
offset_top = 60.0
offset_right = 492.0
offset_bottom = 268.0
color = Color(0.72, 0.62, 0.48, 1)

[node name="Counter" type="ColorRect" parent="."]
offset_left = 220.0
offset_top = 70.0
offset_right = 300.0
offset_bottom = 100.0
color = Color(0.55, 0.35, 0.2, 1)

[node name="CounterTop" type="ColorRect" parent="Counter"]
offset_left = -2.0
offset_top = -4.0
offset_right = 82.0
offset_bottom = 4.0
color = Color(0.65, 0.45, 0.3, 1)

[node name="CashRegister" type="ColorRect" parent="Counter"]
offset_left = 30.0
offset_top = -10.0
offset_right = 50.0
offset_bottom = 0.0
color = Color(0.3, 0.3, 0.35, 1)

[node name="Props" type="Node2D" parent="."]

[node name="Cage1" type="ColorRect" parent="Props"]
offset_left = 40.0
offset_top = 80.0
offset_right = 80.0
offset_bottom = 120.0
color = Color(0.6, 0.55, 0.5, 1)

[node name="Bars" type="ColorRect" parent="Props/Cage1"]
offset_left = 2.0
offset_top = 2.0
offset_right = 38.0
offset_bottom = 6.0
color = Color(0.4, 0.4, 0.4, 1)

[node name="Cage2" type="ColorRect" parent="Props"]
offset_left = 40.0
offset_top = 130.0
offset_right = 80.0
offset_bottom = 170.0
color = Color(0.6, 0.55, 0.5, 1)

[node name="Bars" type="ColorRect" parent="Props/Cage2"]
offset_left = 2.0
offset_top = 2.0
offset_right = 38.0
offset_bottom = 6.0
color = Color(0.4, 0.4, 0.4, 1)

[node name="Cage3" type="ColorRect" parent="Props"]
offset_left = 40.0
offset_top = 180.0
offset_right = 80.0
offset_bottom = 220.0
color = Color(0.6, 0.55, 0.5, 1)

[node name="Bars" type="ColorRect" parent="Props/Cage3"]
offset_left = 2.0
offset_top = 2.0
offset_right = 38.0
offset_bottom = 6.0
color = Color(0.4, 0.4, 0.4, 1)

[node name="FoodBin1" type="ColorRect" parent="Props"]
offset_left = 420.0
offset_top = 80.0
offset_right = 470.0
offset_bottom = 130.0
color = Color(0.75, 0.55, 0.35, 1)

[node name="Label" type="Label" parent="Props/FoodBin1"]
offset_left = 5.0
offset_top = 5.0
offset_right = 45.0
offset_bottom = 20.0
text = "FOOD"

[node name="FoodBin2" type="ColorRect" parent="Props"]
offset_left = 420.0
offset_top = 140.0
offset_right = 470.0
offset_bottom = 190.0
color = Color(0.65, 0.7, 0.55, 1)

[node name="Label" type="Label" parent="Props/FoodBin2"]
offset_left = 5.0
offset_top = 5.0
offset_right = 45.0
offset_bottom = 20.0
text = "TREATS"

[node name="AccessoryRack" type="ColorRect" parent="Props"]
offset_left = 150.0
offset_top = 200.0
offset_right = 210.0
offset_bottom = 250.0
color = Color(0.55, 0.45, 0.35, 1)

[node name="Shelf1" type="ColorRect" parent="Props/AccessoryRack"]
offset_left = 5.0
offset_top = 10.0
offset_right = 55.0
offset_bottom = 14.0
color = Color(0.4, 0.3, 0.25, 1)

[node name="Shelf2" type="ColorRect" parent="Props/AccessoryRack"]
offset_left = 5.0
offset_top = 26.0
offset_right = 55.0
offset_bottom = 30.0
color = Color(0.4, 0.3, 0.25, 1)

[node name="Collar1" type="ColorRect" parent="Props/AccessoryRack"]
offset_left = 8.0
offset_top = 14.0
offset_right = 16.0
offset_bottom = 22.0
color = Color(1.0, 0.3, 0.3, 1)

[node name="Collar2" type="ColorRect" parent="Props/AccessoryRack"]
offset_left = 20.0
offset_top = 14.0
offset_right = 28.0
offset_bottom = 22.0
color = Color(0.3, 0.5, 1.0, 1)

[node name="Leash" type="ColorRect" parent="Props/AccessoryRack"]
offset_left = 34.0
offset_top = 14.0
offset_right = 50.0
offset_bottom = 22.0
color = Color(0.6, 0.4, 0.2, 1)

[node name="ToyRack" type="ColorRect" parent="Props"]
offset_left = 300.0
offset_top = 200.0
offset_right = 360.0
offset_bottom = 250.0
color = Color(0.55, 0.45, 0.35, 1)

[node name="Shelf1" type="ColorRect" parent="Props/ToyRack"]
offset_left = 5.0
offset_top = 10.0
offset_right = 55.0
offset_bottom = 14.0
color = Color(0.4, 0.3, 0.25, 1)

[node name="Ball" type="ColorRect" parent="Props/ToyRack"]
offset_left = 10.0
offset_top = 16.0
offset_right = 22.0
offset_bottom = 28.0
color = Color(1.0, 0.6, 0.2, 1)

[node name="ChewToy" type="ColorRect" parent="Props/ToyRack"]
offset_left = 28.0
offset_top = 18.0
offset_right = 44.0
offset_bottom = 26.0
color = Color(0.4, 0.7, 0.4, 1)

[node name="WelcomeSign" type="Area2D" parent="."]
position = Vector2(256, 65)
script = ExtResource("3")
dialogue_text = "Paws & Claws Pet Shop
Everything your furry friend needs!"

[node name="SignSprite" type="Sprite2D" parent="WelcomeSign"]
texture = ExtResource("7")

[node name="SignCollision" type="CollisionShape2D" parent="WelcomeSign"]
shape = SubResource("RectangleShape2D_3")

[node name="CageInteractable" type="Area2D" parent="."]
position = Vector2(60, 150)
script = ExtResource("3")
dialogue_text = "The cages are filled with cute animals!
You can hear soft chirps and purrs."

[node name="CageCollision" type="CollisionShape2D" parent="CageInteractable"]
shape = SubResource("RectangleShape2D_3")

[node name="FoodInteractable" type="Area2D" parent="."]
position = Vector2(445, 135)
script = ExtResource("3")
dialogue_text = "Premium pet food and treats!
Made with love for your companions."

[node name="FoodCollision" type="CollisionShape2D" parent="FoodInteractable"]
shape = SubResource("RectangleShape2D_3")

[node name="AccessoryInteractable" type="Area2D" parent="."]
position = Vector2(225, 225)
script = ExtResource("3")
dialogue_text = "Collars, leashes, and accessories!
Make your pet look stylish."

[node name="AccessoryCollision" type="CollisionShape2D" parent="AccessoryInteractable"]
shape = SubResource("RectangleShape2D_3")

[node name="PetClerk" type="Area2D" parent="."]
position = Vector2(260, 90)
script = ExtResource("8")
shop_items = Array[String](["pet_treat", "fancy_collar", "squeaky_toy"])

[node name="ClerkSprite" type="Sprite2D" parent="PetClerk"]
texture = ExtResource("9")

[node name="ClerkCollision" type="CollisionShape2D" parent="PetClerk"]
shape = SubResource("RectangleShape2D_4")

[node name="Spawns" type="Node2D" parent="."]

[node name="default" type="Marker2D" parent="Spawns"]
position = Vector2(256, 240)
script = ExtResource("5")

[node name="from_town_center" type="Marker2D" parent="Spawns"]
position = Vector2(256, 240)
script = ExtResource("5")
marker_id = "from_town_center"

[node name="TransitionToTownCenter" type="Area2D" parent="."]
position = Vector2(256, 270)
script = ExtResource("6")
target_area = "res://game/scenes/areas/Area_TownCenter.tscn"
target_spawn_id = "from_pet_shop"

[node name="TransitionShape" type="CollisionShape2D" parent="TransitionToTownCenter"]
shape = SubResource("RectangleShape2D_2")

[node name="TransitionLabel" type="Label" parent="TransitionToTownCenter"]
offset_left = -40.0
offset_top = -10.0
offset_right = 40.0
offset_bottom = 10.0
text = "Exit"
horizontal_alignment = 1

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(256, 240)
script = ExtResource("1")

[node name="Sprite" type="Sprite2D" parent="Player"]
texture = ExtResource("2")
centered = true

[node name="Collision" type="CollisionShape2D" parent="Player"]
shape = SubResource("RectangleShape2D_1")

[node name="Camera2D" type="Camera2D" parent="Player"]
enabled = true
position_smoothing_enabled = false

[node name="InteractionArea" type="Area2D" parent="Player"]

[node name="InteractionShape" type="CollisionShape2D" parent="Player/InteractionArea"]
shape = SubResource("CircleShape2D_1")

[node name="DialogueUI" parent="." instance=ExtResource("4")]

[node name="ShopUI" parent="." instance=ExtResource("10")]

[node name="AmbientSound" type="AudioStreamPlayer" parent="."]
