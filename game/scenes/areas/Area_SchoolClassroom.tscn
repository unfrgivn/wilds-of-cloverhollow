[gd_scene load_steps=19 format=3]

[ext_resource type="Script" path="res://game/scripts/player/Player.gd" id="1"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/fae/overworld/fae_placeholder.png" id="2"]
[ext_resource type="PackedScene" path="res://game/scenes/ui/DialogueUI.tscn" id="3"]
[ext_resource type="Script" path="res://game/scripts/areas/SpawnMarker.gd" id="4"]
[ext_resource type="Script" path="res://game/scripts/areas/AreaTransition.gd" id="5"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/interior/school/student_desk.png" id="6"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/interior/school/teacher_desk.png" id="7"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/interior/school/chalkboard.png" id="8"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/interior/school/clock.png" id="9"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/props/interior/school/window.png" id="10"]
[ext_resource type="Script" path="res://game/scripts/interaction/NPCDialogueTree.gd" id="11"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/npcs/teacher/teacher_idle_south.png" id="12"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/npcs/students/student_a_idle_north.png" id="13"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/npcs/students/student_b_idle_north.png" id="14"]
[ext_resource type="Texture2D" path="res://game/assets/sprites/characters/npcs/students/student_c_idle_north.png" id="15"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_Player"]
size = Vector2(16, 20)

[sub_resource type="CircleShape2D" id="CircleShape2D_Interaction"]
radius = 24.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_Transition"]
size = Vector2(24, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_Desk"]
size = Vector2(24, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_TeacherDesk"]
size = Vector2(48, 24)

[sub_resource type="CircleShape2D" id="CircleShape2D_NPC"]
radius = 20.0

[node name="Area_SchoolClassroom" type="Node2D"]

[node name="Background" type="ColorRect" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 512.0
offset_bottom = 288.0
color = Color(0.9, 0.88, 0.82, 1)

[node name="Floor" type="ColorRect" parent="."]
offset_left = 40.0
offset_top = 60.0
offset_right = 472.0
offset_bottom = 248.0
color = Color(0.7, 0.65, 0.55, 1)

[node name="Walls" type="Node2D" parent="."]

[node name="WallTop" type="ColorRect" parent="Walls"]
offset_left = 40.0
offset_top = 30.0
offset_right = 472.0
offset_bottom = 60.0
color = Color(0.85, 0.82, 0.75, 1)

[node name="WallLeft" type="ColorRect" parent="Walls"]
offset_left = 20.0
offset_top = 30.0
offset_right = 40.0
offset_bottom = 268.0
color = Color(0.85, 0.82, 0.75, 1)

[node name="WallRight" type="ColorRect" parent="Walls"]
offset_left = 472.0
offset_top = 30.0
offset_right = 492.0
offset_bottom = 268.0
color = Color(0.85, 0.82, 0.75, 1)

[node name="WallBottom" type="ColorRect" parent="Walls"]
offset_left = 40.0
offset_top = 248.0
offset_right = 472.0
offset_bottom = 268.0
color = Color(0.85, 0.82, 0.75, 1)

[node name="Chalkboard" type="Sprite2D" parent="."]
position = Vector2(256, 50)
texture = ExtResource("8")

[node name="Clock" type="Sprite2D" parent="."]
position = Vector2(450, 45)
texture = ExtResource("9")

[node name="Windows" type="Node2D" parent="."]

[node name="Window1" type="Sprite2D" parent="Windows"]
position = Vector2(30, 120)
texture = ExtResource("10")

[node name="Window2" type="Sprite2D" parent="Windows"]
position = Vector2(30, 190)
texture = ExtResource("10")

[node name="TeacherDesk" type="Sprite2D" parent="."]
position = Vector2(256, 85)
texture = ExtResource("7")

[node name="StudentDesks" type="Node2D" parent="."]

[node name="Row1Desk1" type="Sprite2D" parent="StudentDesks"]
position = Vector2(100, 130)
texture = ExtResource("6")

[node name="Row1Desk2" type="Sprite2D" parent="StudentDesks"]
position = Vector2(180, 130)
texture = ExtResource("6")

[node name="Row1Desk3" type="Sprite2D" parent="StudentDesks"]
position = Vector2(260, 130)
texture = ExtResource("6")

[node name="Row1Desk4" type="Sprite2D" parent="StudentDesks"]
position = Vector2(340, 130)
texture = ExtResource("6")

[node name="Row1Desk5" type="Sprite2D" parent="StudentDesks"]
position = Vector2(420, 130)
texture = ExtResource("6")

[node name="Row2Desk1" type="Sprite2D" parent="StudentDesks"]
position = Vector2(100, 170)
texture = ExtResource("6")

[node name="Row2Desk2" type="Sprite2D" parent="StudentDesks"]
position = Vector2(180, 170)
texture = ExtResource("6")

[node name="Row2Desk3" type="Sprite2D" parent="StudentDesks"]
position = Vector2(260, 170)
texture = ExtResource("6")

[node name="Row2Desk4" type="Sprite2D" parent="StudentDesks"]
position = Vector2(340, 170)
texture = ExtResource("6")

[node name="Row2Desk5" type="Sprite2D" parent="StudentDesks"]
position = Vector2(420, 170)
texture = ExtResource("6")

[node name="Row3Desk1" type="Sprite2D" parent="StudentDesks"]
position = Vector2(100, 210)
texture = ExtResource("6")

[node name="Row3Desk2" type="Sprite2D" parent="StudentDesks"]
position = Vector2(180, 210)
texture = ExtResource("6")

[node name="Row3Desk3" type="Sprite2D" parent="StudentDesks"]
position = Vector2(260, 210)
texture = ExtResource("6")

[node name="Row3Desk4" type="Sprite2D" parent="StudentDesks"]
position = Vector2(340, 210)
texture = ExtResource("6")

[node name="Row3Desk5" type="Sprite2D" parent="StudentDesks"]
position = Vector2(420, 210)
texture = ExtResource("6")

[node name="Collisions" type="Node2D" parent="."]

[node name="TeacherDeskCollision" type="StaticBody2D" parent="Collisions"]
position = Vector2(256, 90)

[node name="Shape" type="CollisionShape2D" parent="Collisions/TeacherDeskCollision"]
shape = SubResource("RectangleShape2D_TeacherDesk")

[node name="Row1Collision1" type="StaticBody2D" parent="Collisions"]
position = Vector2(100, 135)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row1Collision1"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row1Collision2" type="StaticBody2D" parent="Collisions"]
position = Vector2(180, 135)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row1Collision2"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row1Collision3" type="StaticBody2D" parent="Collisions"]
position = Vector2(260, 135)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row1Collision3"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row1Collision4" type="StaticBody2D" parent="Collisions"]
position = Vector2(340, 135)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row1Collision4"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row1Collision5" type="StaticBody2D" parent="Collisions"]
position = Vector2(420, 135)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row1Collision5"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row2Collision1" type="StaticBody2D" parent="Collisions"]
position = Vector2(100, 175)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row2Collision1"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row2Collision2" type="StaticBody2D" parent="Collisions"]
position = Vector2(180, 175)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row2Collision2"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row2Collision3" type="StaticBody2D" parent="Collisions"]
position = Vector2(260, 175)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row2Collision3"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row2Collision4" type="StaticBody2D" parent="Collisions"]
position = Vector2(340, 175)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row2Collision4"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row2Collision5" type="StaticBody2D" parent="Collisions"]
position = Vector2(420, 175)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row2Collision5"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row3Collision1" type="StaticBody2D" parent="Collisions"]
position = Vector2(100, 215)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row3Collision1"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row3Collision2" type="StaticBody2D" parent="Collisions"]
position = Vector2(180, 215)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row3Collision2"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row3Collision3" type="StaticBody2D" parent="Collisions"]
position = Vector2(260, 215)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row3Collision3"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row3Collision4" type="StaticBody2D" parent="Collisions"]
position = Vector2(340, 215)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row3Collision4"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Row3Collision5" type="StaticBody2D" parent="Collisions"]
position = Vector2(420, 215)

[node name="Shape" type="CollisionShape2D" parent="Collisions/Row3Collision5"]
shape = SubResource("RectangleShape2D_Desk")

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(460, 258)
script = ExtResource("1")

[node name="Sprite" type="Sprite2D" parent="Player"]
texture = ExtResource("2")
centered = true

[node name="Collision" type="CollisionShape2D" parent="Player"]
shape = SubResource("RectangleShape2D_Player")

[node name="Camera2D" type="Camera2D" parent="Player"]
enabled = true
position_smoothing_enabled = false

[node name="InteractionArea" type="Area2D" parent="Player"]

[node name="InteractionShape" type="CollisionShape2D" parent="Player/InteractionArea"]
shape = SubResource("CircleShape2D_Interaction")

[node name="DialogueUI" parent="." instance=ExtResource("3")]

[node name="Spawns" type="Node2D" parent="."]

[node name="from_hall" type="Marker2D" parent="Spawns"]
position = Vector2(460, 250)
script = ExtResource("4")
marker_id = "from_hall"

[node name="default" type="Marker2D" parent="Spawns"]
position = Vector2(256, 180)
script = ExtResource("4")

[node name="ExitTransition" type="Area2D" parent="."]
position = Vector2(480, 258)
script = ExtResource("5")
target_area = "res://game/scenes/areas/Area_SchoolHall.tscn"
target_spawn_id = "from_classroom"

[node name="ExitShape" type="CollisionShape2D" parent="ExitTransition"]
shape = SubResource("RectangleShape2D_Transition")

[node name="Teacher" type="Area2D" parent="."]
position = Vector2(256, 72)
script = ExtResource("11")
dialogue_branches = Array[String](["Good morning, class! Today we'll be learning about the history of Cloverhollow.", "Remember to complete your homework by tomorrow! It's very important for your grades.", "If you need any help with your studies, don't hesitate to ask. That's what I'm here for!"])

[node name="Sprite" type="Sprite2D" parent="Teacher"]
texture = ExtResource("12")
centered = true
offset = Vector2(0, -12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Teacher"]
shape = SubResource("CircleShape2D_NPC")

[node name="StudentA" type="Area2D" parent="."]
position = Vector2(180, 118)
script = ExtResource("11")
dialogue_branches = Array[String](["Hi! I'm studying for the big test next week. It's going to be tough!", "Did you hear about the weird noises coming from the old clubhouse?"])

[node name="Sprite" type="Sprite2D" parent="StudentA"]
texture = ExtResource("13")
centered = true
offset = Vector2(0, -12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StudentA"]
shape = SubResource("CircleShape2D_NPC")

[node name="StudentB" type="Area2D" parent="."]
position = Vector2(340, 158)
script = ExtResource("11")
dialogue_branches = Array[String](["I can't wait for lunch! The cafeteria has my favorite today.", "Have you explored Bubblegum Bay yet? The beach is so pretty!"])

[node name="Sprite" type="Sprite2D" parent="StudentB"]
texture = ExtResource("14")
centered = true
offset = Vector2(0, -12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StudentB"]
shape = SubResource("CircleShape2D_NPC")

[node name="StudentC" type="Area2D" parent="."]
position = Vector2(100, 198)
script = ExtResource("11")
dialogue_branches = Array[String](["I heard there's a secret path behind the school that leads to the forest!", "My older sibling says there's treasure hidden somewhere in town."])

[node name="Sprite" type="Sprite2D" parent="StudentC"]
texture = ExtResource("15")
centered = true
offset = Vector2(0, -12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StudentC"]
shape = SubResource("CircleShape2D_NPC")
